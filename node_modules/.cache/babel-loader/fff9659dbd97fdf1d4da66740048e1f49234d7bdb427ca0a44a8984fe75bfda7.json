{"ast":null,"code":"import{useEffect,useState}from'react';import{useSwipeable}from'react-swipeable';import{setPosition,nextSong,previousSong,msToTime}from'../utils';import{EuiFlexGroup,EuiFlexItem,EuiImage,EuiLink,EuiSpacer,EuiText}from'@elastic/eui';import'../css/PlayerPage.css';import ProgressBar from'../components/ProgressBar';import SongControls from'../components/SongControls';import ButtonOptions from'../components/ButtonOptions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Player(){const[token,setToken]=useState();const[currSong,setCurrSong]=useState();const[shuffle,setShuffle]=useState();const[repeat,setRepeat]=useState();const[running,setRunning]=useState(false);const[duration,setDuration]=useState();const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(false);const[elapsedTime,setElapsedTime]=useState(0);const[progressTime,setProgressTime]=useState(msToTime(elapsedTime));const[vinylBG,setVinylBG]=useState(localStorage.getItem('vinylBG')==='true'?true:false);const[useRow,setUseRow]=useState(window.innerWidth>=600&&window.innerHeight<=550);//Save BG to localstorage\nuseEffect(()=>{localStorage.setItem('vinylBG',vinylBG);},[vinylBG]);//Get Token from URL\nuseEffect(()=>{if(!token){const hash=window.location.hash.substring(9).split(\"&\").reduce(function(initial,item){if(item){var parts=item.split(\"=\");initial[parts[0]]=decodeURIComponent(parts[1]);}return initial;},{});let _token=hash.access_token;if(_token){setToken(_token);getCurrentSong(_token);setIsLoading(false);}else{setError(true);setIsLoading(false);}}},[token]);//Timer Function\nuseEffect(()=>{let timer;if(running){timer=setInterval(()=>{setElapsedTime(prevElapsedTime=>{const newElapsedTime=prevElapsedTime+1000;setProgressTime(msToTime(newElapsedTime));if(newElapsedTime>=duration){clearInterval(timer);getCurrentSong(token);}return newElapsedTime;});},1000);}else{clearInterval(timer);}return()=>clearInterval(timer);},[running,duration,token]);function getCurrentSong(token){fetch(\"https://api.spotify.com/v1/me/player\",{method:'GET',headers:{Authorization:\"Bearer \"+token,'Content-Type':'application/json'}}).then(response=>response.json()).then(data=>{setCurrSong(data.item);setElapsedTime(data.progress_ms);setDuration(data.item.duration_ms);setRunning(data.is_playing);setShuffle(data.shuffle_state);if(data.replay_state===\"off\"){setRepeat(false);}else if(data.replay_state===\"track\"){setRepeat(true);}}).catch(error=>console.error('Error fetching current song:',error));}//Check if Mobile\nfunction handleWindowSizeChange(){setUseRow(window.innerWidth>=600&&window.innerHeight<=550);}useEffect(()=>{window.addEventListener('resize',handleWindowSizeChange);return()=>{window.removeEventListener('resize',handleWindowSizeChange);};},[]);const handleToggleRunning=value=>{setRunning(value);};const handleToggleShuffle=value=>{setShuffle(value);};const handleToggleRepeat=value=>{setRepeat(value);};const handleSeek=value=>{setPosition(value,token);setElapsedTime(value);};//Swiping + Animations\nconst handlers=useSwipeable({onSwipedLeft:()=>{document.getElementById('album').style.transform='translateX(-300%)';nextSong(token);setTimeout(function(){document.getElementById('albumcover').style.opacity=0;document.getElementById('album').style.transform='translateX(300%)';},350);setTimeout(function(){getCurrentSong(token);document.getElementById('albumcover').style.opacity=1;document.getElementById('album').style.transform='translateX(0%)';},1000);},onSwipedRight:()=>{document.getElementById('album').style.transform='translateX(300%)';previousSong(token);setTimeout(function(){document.getElementById('albumcover').style.opacity=0;document.getElementById('album').style.transform='translateX(-300%)';},350);setTimeout(function(){getCurrentSong(token);document.getElementById('albumcover').style.opacity=1;document.getElementById('album').style.transform='translateX(0%)';},1000);},delta:50,preventDefaultTouchmoveEvent:true});return/*#__PURE__*/_jsx(_Fragment,{children:isLoading?/*#__PURE__*/_jsxs(EuiFlexGroup,{alignItems:\"center\",justifyContent:\"center\",children:[/*#__PURE__*/_jsx(EuiSpacer,{size:\"xl\"}),/*#__PURE__*/_jsx(EuiText,{children:\"Loading...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[currSong&&token&&/*#__PURE__*/_jsxs(EuiFlexGroup,{alignItems:\"center\",justifyContent:\"center\",direction:useRow?'row':'column',children:[/*#__PURE__*/_jsxs(EuiFlexItem,{children:[/*#__PURE__*/_jsx(EuiSpacer,{size:useRow?'s':'l'}),useRow&&window.innerWidth<768&&window.innerHeight<=375?/*#__PURE__*/_jsx(EuiFlexGroup,{justifyContent:\"center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"buttonOption\",onClick:()=>setVinylBG(!vinylBG),children:\"Swap Image\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"fadein\",title:\"Switch Background\",id:\"album\",onClick:()=>setVinylBG(!vinylBG),...handlers,children:/*#__PURE__*/_jsx(EuiImage,{size:\"l\",src:currSong.album.images[0].url,alt:\"Album Cover\",id:\"albumcover\",className:\"album\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"bgimg\",className:vinylBG?'vinyl fadein':'bg fadein',children:/*#__PURE__*/_jsx(\"img\",{className:running?'rotate':'',src:currSong.album.images[0].url,alt:\"bg\"})})]}),/*#__PURE__*/_jsxs(EuiFlexItem,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:'2%',width:\"350px\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"songtitle\",style:{textOverflow:'ellipsis',overflow:'hidden',whiteSpace:'nowrap'},children:currSong.name}),/*#__PURE__*/_jsx(\"p\",{style:{textOverflow:'ellipsis',overflow:'hidden',whiteSpace:'nowrap'},children:currSong.artists.map((artist,index)=>/*#__PURE__*/_jsxs(_Fragment,{children:[artist.name,index!==currSong.artists.length-1&&/*#__PURE__*/_jsx(\"span\",{children:\", \\xA0\"})]}))}),/*#__PURE__*/_jsx(\"p\",{style:{textOverflow:'ellipsis',overflow:'hidden',whiteSpace:'nowrap'},children:currSong.album.name})]}),/*#__PURE__*/_jsx(EuiSpacer,{size:\"s\"}),/*#__PURE__*/_jsx(ProgressBar,{duration:duration,elapsedTime:elapsedTime,progressTime:progressTime,running:running,onSongEnd:()=>getCurrentSong(token),onSeek:handleSeek},currSong.id),/*#__PURE__*/_jsx(EuiSpacer,{size:\"s\"}),/*#__PURE__*/_jsx(SongControls,{running:running,shuffle:shuffle,repeat:repeat,token:token,onToggleShuffle:handleToggleShuffle,onToggleRepeat:handleToggleRepeat,onToggleRunning:handleToggleRunning,onSongChange:()=>getCurrentSong(token)}),/*#__PURE__*/_jsx(EuiSpacer,{size:\"s\"}),/*#__PURE__*/_jsx(ButtonOptions,{token:token,currSong:currSong,time:elapsedTime})]})]}),error&&/*#__PURE__*/_jsxs(EuiFlexGroup,{direction:\"column\",alignItems:\"center\",justifyContent:\"center\",children:[/*#__PURE__*/_jsx(EuiSpacer,{size:\"xl\"}),/*#__PURE__*/_jsx(EuiText,{children:\"Something went wrong. Please try logging in again.\"}),/*#__PURE__*/_jsx(EuiLink,{href:\"/broadway-lite\",children:\"Back to Login.\"})]})]})});}","map":{"version":3,"names":["useEffect","useState","useSwipeable","setPosition","nextSong","previousSong","msToTime","EuiFlexGroup","EuiFlexItem","EuiImage","EuiLink","EuiSpacer","EuiText","ProgressBar","SongControls","ButtonOptions","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Player","token","setToken","currSong","setCurrSong","shuffle","setShuffle","repeat","setRepeat","running","setRunning","duration","setDuration","isLoading","setIsLoading","error","setError","elapsedTime","setElapsedTime","progressTime","setProgressTime","vinylBG","setVinylBG","localStorage","getItem","useRow","setUseRow","window","innerWidth","innerHeight","setItem","hash","location","substring","split","reduce","initial","item","parts","decodeURIComponent","_token","access_token","getCurrentSong","timer","setInterval","prevElapsedTime","newElapsedTime","clearInterval","fetch","method","headers","Authorization","then","response","json","data","progress_ms","duration_ms","is_playing","shuffle_state","replay_state","catch","console","handleWindowSizeChange","addEventListener","removeEventListener","handleToggleRunning","value","handleToggleShuffle","handleToggleRepeat","handleSeek","handlers","onSwipedLeft","document","getElementById","style","transform","setTimeout","opacity","onSwipedRight","delta","preventDefaultTouchmoveEvent","children","alignItems","justifyContent","size","direction","className","onClick","title","id","src","album","images","url","alt","paddingLeft","width","textOverflow","overflow","whiteSpace","name","artists","map","artist","index","length","onSongEnd","onSeek","onToggleShuffle","onToggleRepeat","onToggleRunning","onSongChange","time","href"],"sources":["/home/runner/work/broadway-lite/broadway-lite/src/pages/player.jsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { useSwipeable } from 'react-swipeable';\nimport { setPosition, nextSong, previousSong, msToTime } from '../utils';\nimport { EuiFlexGroup, EuiFlexItem, EuiImage, EuiLink, EuiSpacer, EuiText } from '@elastic/eui';\nimport '../css/PlayerPage.css'\nimport ProgressBar from '../components/ProgressBar';\nimport SongControls from '../components/SongControls';\nimport ButtonOptions from '../components/ButtonOptions';\n\nexport default function Player() {\n\n    const [token, setToken] = useState();\n\n    const [currSong, setCurrSong] = useState();\n    const [shuffle, setShuffle] = useState();\n    const [repeat, setRepeat] = useState();\n    const [running, setRunning] = useState(false);\n    const [duration, setDuration] = useState();\n\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(false);\n\n    const [elapsedTime, setElapsedTime] = useState(0);\n    const [progressTime, setProgressTime] = useState(msToTime(elapsedTime));\n\n    const [vinylBG, setVinylBG] = useState(localStorage.getItem('vinylBG') === 'true' ? true : false);\n\n    const [useRow, setUseRow] = useState(window.innerWidth >= 600 && window.innerHeight <= 550)\n\n    //Save BG to localstorage\n    useEffect(() => {\n        localStorage.setItem('vinylBG', vinylBG)\n    }, [vinylBG])\n\n    //Get Token from URL\n    useEffect(() => {\n        if (!token) {\n            const hash = window.location.hash\n                .substring(9)\n                .split(\"&\")\n                .reduce(function (initial, item) {\n                    if (item) {\n                        var parts = item.split(\"=\");\n                        initial[parts[0]] = decodeURIComponent(parts[1]);\n                    }\n                    return initial;\n                }, {});\n            let _token = hash.access_token\n            if (_token) {\n                setToken(_token)\n                getCurrentSong(_token)\n                setIsLoading(false)\n            } else {\n                setError(true)\n                setIsLoading(false)\n            }\n        }\n    }, [token])\n\n    //Timer Function\n    useEffect(() => {\n        let timer;\n        if (running) {\n            timer = setInterval(() => {\n                setElapsedTime(prevElapsedTime => {\n                    const newElapsedTime = prevElapsedTime + 1000;\n                    setProgressTime(msToTime(newElapsedTime));\n                    if (newElapsedTime >= duration) {\n                        clearInterval(timer);\n                        getCurrentSong(token);\n                    }\n                    return newElapsedTime;\n                });\n            }, 1000);\n        } else {\n            clearInterval(timer);\n        }\n        return () => clearInterval(timer);\n    }, [running, duration, token]);\n\n    function getCurrentSong(token) {\n        fetch(\"https://api.spotify.com/v1/me/player\", {\n            method: 'GET',\n            headers: {\n                Authorization: \"Bearer \" + token,\n                'Content-Type': 'application/json',\n            },\n        })\n            .then((response) => response.json())\n            .then(data => {\n                setCurrSong(data.item);\n                setElapsedTime(data.progress_ms)\n                setDuration(data.item.duration_ms)\n                setRunning(data.is_playing)\n                setShuffle(data.shuffle_state)\n                if (data.replay_state === \"off\") {\n                    setRepeat(false)\n                }\n                else if (data.replay_state === \"track\") {\n                    setRepeat(true)\n                }\n            })\n            .catch(error => console.error('Error fetching current song:', error))\n    }\n\n    //Check if Mobile\n    function handleWindowSizeChange() {\n        setUseRow(window.innerWidth >= 600 && window.innerHeight <= 550);\n    }\n    useEffect(() => {\n        window.addEventListener('resize', handleWindowSizeChange);\n        return () => {\n            window.removeEventListener('resize', handleWindowSizeChange);\n        }\n    }, []);\n\n    const handleToggleRunning = (value) => {\n        setRunning(value)\n    }\n\n    const handleToggleShuffle = (value) => {\n        setShuffle(value)\n    }\n\n    const handleToggleRepeat = (value) => {\n        setRepeat(value)\n    }\n\n    const handleSeek = (value) => {\n        setPosition(value, token);\n        setElapsedTime(value);\n    }\n\n    //Swiping + Animations\n    const handlers = useSwipeable({\n        onSwipedLeft: () => {\n            document.getElementById('album').style.transform = 'translateX(-300%)'\n            nextSong(token);\n            setTimeout(function () {\n                document.getElementById('albumcover').style.opacity = 0\n                document.getElementById('album').style.transform = 'translateX(300%)'\n            }, 350)\n            setTimeout(function () {\n                getCurrentSong(token)\n                document.getElementById('albumcover').style.opacity = 1\n                document.getElementById('album').style.transform = 'translateX(0%)'\n            }, 1000)\n        },\n        onSwipedRight: () => {\n            document.getElementById('album').style.transform = 'translateX(300%)'\n            previousSong(token);\n            setTimeout(function () {\n                document.getElementById('albumcover').style.opacity = 0\n                document.getElementById('album').style.transform = 'translateX(-300%)'\n            }, 350)\n            setTimeout(function () {\n                getCurrentSong(token)\n                document.getElementById('albumcover').style.opacity = 1\n                document.getElementById('album').style.transform = 'translateX(0%)'\n            }, 1000)\n        },\n        delta: 50,\n        preventDefaultTouchmoveEvent: true\n    });\n\n    return (\n        <>\n            {isLoading ?\n                <EuiFlexGroup alignItems='center' justifyContent='center'>\n                    <EuiSpacer size='xl' />\n                    <EuiText>Loading...</EuiText>\n                </EuiFlexGroup>\n                :\n                <>\n                    {currSong && token &&\n                        <EuiFlexGroup alignItems='center' justifyContent='center' direction={useRow ? 'row' : 'column'}>\n                            <EuiFlexItem>\n                                <EuiSpacer size={useRow ? 's' : 'l'} />\n\n                                {/* Album Cover & Background Image */}\n                                {useRow && window.innerWidth < 768 && window.innerHeight <= 375 ?\n                                    <EuiFlexGroup justifyContent='center'>\n                                        <button className='buttonOption' onClick={() => setVinylBG(!vinylBG)}>Swap Image</button>\n                                    </EuiFlexGroup>\n                                    :\n                                    <div className='fadein' title=\"Switch Background\" id=\"album\" onClick={() => setVinylBG(!vinylBG)} {...handlers}>\n                                        <EuiImage size='l' src={currSong.album.images[0].url} alt=\"Album Cover\" id=\"albumcover\" className=\"album\" />\n                                    </div>\n                                }\n\n                                <div id='bgimg' className={vinylBG ? 'vinyl fadein' : 'bg fadein'}>\n                                    <img className={running ? 'rotate' : ''} src={currSong.album.images[0].url} alt=\"bg\" />\n                                </div>\n                            </EuiFlexItem>\n                            <EuiFlexItem>\n                                {/* Song Name, Artist(s) and Album */}\n                                <div style={{ paddingLeft: '2%', width:\"350px\" }}>\n                                    <p className='songtitle' style={{textOverflow: 'ellipsis', overflow: 'hidden', whiteSpace:'nowrap'}}>{currSong.name}</p>\n                                    <p style={{textOverflow: 'ellipsis', overflow: 'hidden', whiteSpace:'nowrap'}}>{currSong.artists.map((artist, index) => (\n                                        <>{artist.name}{index !== currSong.artists.length - 1 && <span>, &nbsp;</span>}</>\n                                    ))}</p>\n                                    <p style={{textOverflow: 'ellipsis', overflow: 'hidden', whiteSpace:'nowrap'}}>{currSong.album.name}</p>\n                                </div>\n\n                                <EuiSpacer size='s' />\n\n                                {/* Progress Bar */}\n                                <ProgressBar key={currSong.id} duration={duration} elapsedTime={elapsedTime} progressTime={progressTime} running={running}\n                                    onSongEnd={() => getCurrentSong(token)} onSeek={handleSeek} />\n\n                                <EuiSpacer size='s' />\n\n                                {/* Playback controls (play/pause, next/previous, shuffle, repeat, volume, microphone) */}\n                                <SongControls running={running} shuffle={shuffle} repeat={repeat} token={token}\n                                    onToggleShuffle={handleToggleShuffle} onToggleRepeat={handleToggleRepeat} onToggleRunning={handleToggleRunning}\n                                    onSongChange={() => getCurrentSong(token)} />\n\n                                <EuiSpacer size='s' />\n\n                                {/* Lyrics (removed), Queue, Recommendations, Logout */}\n                                <ButtonOptions token={token} currSong={currSong} time={elapsedTime} />\n                            </EuiFlexItem>\n                        </EuiFlexGroup>\n                    }\n                    {error &&\n                        <EuiFlexGroup direction='column' alignItems='center' justifyContent='center'>\n                            <EuiSpacer size='xl' />\n                            <EuiText>Something went wrong. Please try logging in again.</EuiText>\n                            <EuiLink href='/broadway-lite'>Back to Login.</EuiLink>\n                        </EuiFlexGroup>\n                    }\n                </>\n            }\n        </>\n    )\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,YAAY,KAAQ,iBAAiB,CAC9C,OAASC,WAAW,CAAEC,QAAQ,CAAEC,YAAY,CAAEC,QAAQ,KAAQ,UAAU,CACxE,OAASC,YAAY,CAAEC,WAAW,CAAEC,QAAQ,CAAEC,OAAO,CAAEC,SAAS,CAAEC,OAAO,KAAQ,cAAc,CAC/F,MAAO,uBAAuB,CAC9B,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,CAAAC,YAAY,KAAM,4BAA4B,CACrD,MAAO,CAAAC,aAAa,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAExD,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAE7B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGvB,QAAQ,CAAC,CAAC,CAEpC,KAAM,CAACwB,QAAQ,CAAEC,WAAW,CAAC,CAAGzB,QAAQ,CAAC,CAAC,CAC1C,KAAM,CAAC0B,OAAO,CAAEC,UAAU,CAAC,CAAG3B,QAAQ,CAAC,CAAC,CACxC,KAAM,CAAC4B,MAAM,CAAEC,SAAS,CAAC,CAAG7B,QAAQ,CAAC,CAAC,CACtC,KAAM,CAAC8B,OAAO,CAAEC,UAAU,CAAC,CAAG/B,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACgC,QAAQ,CAAEC,WAAW,CAAC,CAAGjC,QAAQ,CAAC,CAAC,CAE1C,KAAM,CAACkC,SAAS,CAAEC,YAAY,CAAC,CAAGnC,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACoC,KAAK,CAAEC,QAAQ,CAAC,CAAGrC,QAAQ,CAAC,KAAK,CAAC,CAEzC,KAAM,CAACsC,WAAW,CAAEC,cAAc,CAAC,CAAGvC,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACwC,YAAY,CAAEC,eAAe,CAAC,CAAGzC,QAAQ,CAACK,QAAQ,CAACiC,WAAW,CAAC,CAAC,CAEvE,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAG3C,QAAQ,CAAC4C,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,GAAK,MAAM,CAAG,IAAI,CAAG,KAAK,CAAC,CAEjG,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAG/C,QAAQ,CAACgD,MAAM,CAACC,UAAU,EAAI,GAAG,EAAID,MAAM,CAACE,WAAW,EAAI,GAAG,CAAC,CAE3F;AACAnD,SAAS,CAAC,IAAM,CACZ6C,YAAY,CAACO,OAAO,CAAC,SAAS,CAAET,OAAO,CAAC,CAC5C,CAAC,CAAE,CAACA,OAAO,CAAC,CAAC,CAEb;AACA3C,SAAS,CAAC,IAAM,CACZ,GAAI,CAACuB,KAAK,CAAE,CACR,KAAM,CAAA8B,IAAI,CAAGJ,MAAM,CAACK,QAAQ,CAACD,IAAI,CAC5BE,SAAS,CAAC,CAAC,CAAC,CACZC,KAAK,CAAC,GAAG,CAAC,CACVC,MAAM,CAAC,SAAUC,OAAO,CAAEC,IAAI,CAAE,CAC7B,GAAIA,IAAI,CAAE,CACN,GAAI,CAAAC,KAAK,CAAGD,IAAI,CAACH,KAAK,CAAC,GAAG,CAAC,CAC3BE,OAAO,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAGC,kBAAkB,CAACD,KAAK,CAAC,CAAC,CAAC,CAAC,CACpD,CACA,MAAO,CAAAF,OAAO,CAClB,CAAC,CAAE,CAAC,CAAC,CAAC,CACV,GAAI,CAAAI,MAAM,CAAGT,IAAI,CAACU,YAAY,CAC9B,GAAID,MAAM,CAAE,CACRtC,QAAQ,CAACsC,MAAM,CAAC,CAChBE,cAAc,CAACF,MAAM,CAAC,CACtB1B,YAAY,CAAC,KAAK,CAAC,CACvB,CAAC,IAAM,CACHE,QAAQ,CAAC,IAAI,CAAC,CACdF,YAAY,CAAC,KAAK,CAAC,CACvB,CACJ,CACJ,CAAC,CAAE,CAACb,KAAK,CAAC,CAAC,CAEX;AACAvB,SAAS,CAAC,IAAM,CACZ,GAAI,CAAAiE,KAAK,CACT,GAAIlC,OAAO,CAAE,CACTkC,KAAK,CAAGC,WAAW,CAAC,IAAM,CACtB1B,cAAc,CAAC2B,eAAe,EAAI,CAC9B,KAAM,CAAAC,cAAc,CAAGD,eAAe,CAAG,IAAI,CAC7CzB,eAAe,CAACpC,QAAQ,CAAC8D,cAAc,CAAC,CAAC,CACzC,GAAIA,cAAc,EAAInC,QAAQ,CAAE,CAC5BoC,aAAa,CAACJ,KAAK,CAAC,CACpBD,cAAc,CAACzC,KAAK,CAAC,CACzB,CACA,MAAO,CAAA6C,cAAc,CACzB,CAAC,CAAC,CACN,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC,IAAM,CACHC,aAAa,CAACJ,KAAK,CAAC,CACxB,CACA,MAAO,IAAMI,aAAa,CAACJ,KAAK,CAAC,CACrC,CAAC,CAAE,CAAClC,OAAO,CAAEE,QAAQ,CAAEV,KAAK,CAAC,CAAC,CAE9B,QAAS,CAAAyC,cAAcA,CAACzC,KAAK,CAAE,CAC3B+C,KAAK,CAAC,sCAAsC,CAAE,CAC1CC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACLC,aAAa,CAAE,SAAS,CAAGlD,KAAK,CAChC,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CACGmD,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAACG,IAAI,EAAI,CACVnD,WAAW,CAACmD,IAAI,CAAClB,IAAI,CAAC,CACtBnB,cAAc,CAACqC,IAAI,CAACC,WAAW,CAAC,CAChC5C,WAAW,CAAC2C,IAAI,CAAClB,IAAI,CAACoB,WAAW,CAAC,CAClC/C,UAAU,CAAC6C,IAAI,CAACG,UAAU,CAAC,CAC3BpD,UAAU,CAACiD,IAAI,CAACI,aAAa,CAAC,CAC9B,GAAIJ,IAAI,CAACK,YAAY,GAAK,KAAK,CAAE,CAC7BpD,SAAS,CAAC,KAAK,CAAC,CACpB,CAAC,IACI,IAAI+C,IAAI,CAACK,YAAY,GAAK,OAAO,CAAE,CACpCpD,SAAS,CAAC,IAAI,CAAC,CACnB,CACJ,CAAC,CAAC,CACDqD,KAAK,CAAC9C,KAAK,EAAI+C,OAAO,CAAC/C,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CAAC,CAC7E,CAEA;AACA,QAAS,CAAAgD,sBAAsBA,CAAA,CAAG,CAC9BrC,SAAS,CAACC,MAAM,CAACC,UAAU,EAAI,GAAG,EAAID,MAAM,CAACE,WAAW,EAAI,GAAG,CAAC,CACpE,CACAnD,SAAS,CAAC,IAAM,CACZiD,MAAM,CAACqC,gBAAgB,CAAC,QAAQ,CAAED,sBAAsB,CAAC,CACzD,MAAO,IAAM,CACTpC,MAAM,CAACsC,mBAAmB,CAAC,QAAQ,CAAEF,sBAAsB,CAAC,CAChE,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,mBAAmB,CAAIC,KAAK,EAAK,CACnCzD,UAAU,CAACyD,KAAK,CAAC,CACrB,CAAC,CAED,KAAM,CAAAC,mBAAmB,CAAID,KAAK,EAAK,CACnC7D,UAAU,CAAC6D,KAAK,CAAC,CACrB,CAAC,CAED,KAAM,CAAAE,kBAAkB,CAAIF,KAAK,EAAK,CAClC3D,SAAS,CAAC2D,KAAK,CAAC,CACpB,CAAC,CAED,KAAM,CAAAG,UAAU,CAAIH,KAAK,EAAK,CAC1BtF,WAAW,CAACsF,KAAK,CAAElE,KAAK,CAAC,CACzBiB,cAAc,CAACiD,KAAK,CAAC,CACzB,CAAC,CAED;AACA,KAAM,CAAAI,QAAQ,CAAG3F,YAAY,CAAC,CAC1B4F,YAAY,CAAEA,CAAA,GAAM,CAChBC,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAACC,KAAK,CAACC,SAAS,CAAG,mBAAmB,CACtE9F,QAAQ,CAACmB,KAAK,CAAC,CACf4E,UAAU,CAAC,UAAY,CACnBJ,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,KAAK,CAACG,OAAO,CAAG,CAAC,CACvDL,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAACC,KAAK,CAACC,SAAS,CAAG,kBAAkB,CACzE,CAAC,CAAE,GAAG,CAAC,CACPC,UAAU,CAAC,UAAY,CACnBnC,cAAc,CAACzC,KAAK,CAAC,CACrBwE,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,KAAK,CAACG,OAAO,CAAG,CAAC,CACvDL,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAACC,KAAK,CAACC,SAAS,CAAG,gBAAgB,CACvE,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC,CACDG,aAAa,CAAEA,CAAA,GAAM,CACjBN,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAACC,KAAK,CAACC,SAAS,CAAG,kBAAkB,CACrE7F,YAAY,CAACkB,KAAK,CAAC,CACnB4E,UAAU,CAAC,UAAY,CACnBJ,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,KAAK,CAACG,OAAO,CAAG,CAAC,CACvDL,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAACC,KAAK,CAACC,SAAS,CAAG,mBAAmB,CAC1E,CAAC,CAAE,GAAG,CAAC,CACPC,UAAU,CAAC,UAAY,CACnBnC,cAAc,CAACzC,KAAK,CAAC,CACrBwE,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,KAAK,CAACG,OAAO,CAAG,CAAC,CACvDL,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAACC,KAAK,CAACC,SAAS,CAAG,gBAAgB,CACvE,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC,CACDI,KAAK,CAAE,EAAE,CACTC,4BAA4B,CAAE,IAClC,CAAC,CAAC,CAEF,mBACItF,IAAA,CAAAI,SAAA,EAAAmF,QAAA,CACKrE,SAAS,cACNhB,KAAA,CAACZ,YAAY,EAACkG,UAAU,CAAC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAAF,QAAA,eACrDvF,IAAA,CAACN,SAAS,EAACgG,IAAI,CAAC,IAAI,CAAE,CAAC,cACvB1F,IAAA,CAACL,OAAO,EAAA4F,QAAA,CAAC,YAAU,CAAS,CAAC,EACnB,CAAC,cAEfrF,KAAA,CAAAE,SAAA,EAAAmF,QAAA,EACK/E,QAAQ,EAAIF,KAAK,eACdJ,KAAA,CAACZ,YAAY,EAACkG,UAAU,CAAC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAACE,SAAS,CAAE7D,MAAM,CAAG,KAAK,CAAG,QAAS,CAAAyD,QAAA,eAC3FrF,KAAA,CAACX,WAAW,EAAAgG,QAAA,eACRvF,IAAA,CAACN,SAAS,EAACgG,IAAI,CAAE5D,MAAM,CAAG,GAAG,CAAG,GAAI,CAAE,CAAC,CAGtCA,MAAM,EAAIE,MAAM,CAACC,UAAU,CAAG,GAAG,EAAID,MAAM,CAACE,WAAW,EAAI,GAAG,cAC3DlC,IAAA,CAACV,YAAY,EAACmG,cAAc,CAAC,QAAQ,CAAAF,QAAA,cACjCvF,IAAA,WAAQ4F,SAAS,CAAC,cAAc,CAACC,OAAO,CAAEA,CAAA,GAAMlE,UAAU,CAAC,CAACD,OAAO,CAAE,CAAA6D,QAAA,CAAC,YAAU,CAAQ,CAAC,CAC/E,CAAC,cAEfvF,IAAA,QAAK4F,SAAS,CAAC,QAAQ,CAACE,KAAK,CAAC,mBAAmB,CAACC,EAAE,CAAC,OAAO,CAACF,OAAO,CAAEA,CAAA,GAAMlE,UAAU,CAAC,CAACD,OAAO,CAAE,IAAKkD,QAAQ,CAAAW,QAAA,cAC1GvF,IAAA,CAACR,QAAQ,EAACkG,IAAI,CAAC,GAAG,CAACM,GAAG,CAAExF,QAAQ,CAACyF,KAAK,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,GAAI,CAACC,GAAG,CAAC,aAAa,CAACL,EAAE,CAAC,YAAY,CAACH,SAAS,CAAC,OAAO,CAAE,CAAC,CAC3G,CAAC,cAGV5F,IAAA,QAAK+F,EAAE,CAAC,OAAO,CAACH,SAAS,CAAElE,OAAO,CAAG,cAAc,CAAG,WAAY,CAAA6D,QAAA,cAC9DvF,IAAA,QAAK4F,SAAS,CAAE9E,OAAO,CAAG,QAAQ,CAAG,EAAG,CAACkF,GAAG,CAAExF,QAAQ,CAACyF,KAAK,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,GAAI,CAACC,GAAG,CAAC,IAAI,CAAE,CAAC,CACtF,CAAC,EACG,CAAC,cACdlG,KAAA,CAACX,WAAW,EAAAgG,QAAA,eAERrF,KAAA,QAAK8E,KAAK,CAAE,CAAEqB,WAAW,CAAE,IAAI,CAAEC,KAAK,CAAC,OAAQ,CAAE,CAAAf,QAAA,eAC7CvF,IAAA,MAAG4F,SAAS,CAAC,WAAW,CAACZ,KAAK,CAAE,CAACuB,YAAY,CAAE,UAAU,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,UAAU,CAAC,QAAQ,CAAE,CAAAlB,QAAA,CAAE/E,QAAQ,CAACkG,IAAI,CAAI,CAAC,cACxH1G,IAAA,MAAGgF,KAAK,CAAE,CAACuB,YAAY,CAAE,UAAU,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,UAAU,CAAC,QAAQ,CAAE,CAAAlB,QAAA,CAAE/E,QAAQ,CAACmG,OAAO,CAACC,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,gBAC/G5G,KAAA,CAAAE,SAAA,EAAAmF,QAAA,EAAGsB,MAAM,CAACH,IAAI,CAAEI,KAAK,GAAKtG,QAAQ,CAACmG,OAAO,CAACI,MAAM,CAAG,CAAC,eAAI/G,IAAA,SAAAuF,QAAA,CAAM,QAAQ,CAAM,CAAC,EAAG,CACpF,CAAC,CAAI,CAAC,cACPvF,IAAA,MAAGgF,KAAK,CAAE,CAACuB,YAAY,CAAE,UAAU,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,UAAU,CAAC,QAAQ,CAAE,CAAAlB,QAAA,CAAE/E,QAAQ,CAACyF,KAAK,CAACS,IAAI,CAAI,CAAC,EACvG,CAAC,cAEN1G,IAAA,CAACN,SAAS,EAACgG,IAAI,CAAC,GAAG,CAAE,CAAC,cAGtB1F,IAAA,CAACJ,WAAW,EAAmBoB,QAAQ,CAAEA,QAAS,CAACM,WAAW,CAAEA,WAAY,CAACE,YAAY,CAAEA,YAAa,CAACV,OAAO,CAAEA,OAAQ,CACtHkG,SAAS,CAAEA,CAAA,GAAMjE,cAAc,CAACzC,KAAK,CAAE,CAAC2G,MAAM,CAAEtC,UAAW,EAD7CnE,QAAQ,CAACuF,EACsC,CAAC,cAElE/F,IAAA,CAACN,SAAS,EAACgG,IAAI,CAAC,GAAG,CAAE,CAAC,cAGtB1F,IAAA,CAACH,YAAY,EAACiB,OAAO,CAAEA,OAAQ,CAACJ,OAAO,CAAEA,OAAQ,CAACE,MAAM,CAAEA,MAAO,CAACN,KAAK,CAAEA,KAAM,CAC3E4G,eAAe,CAAEzC,mBAAoB,CAAC0C,cAAc,CAAEzC,kBAAmB,CAAC0C,eAAe,CAAE7C,mBAAoB,CAC/G8C,YAAY,CAAEA,CAAA,GAAMtE,cAAc,CAACzC,KAAK,CAAE,CAAE,CAAC,cAEjDN,IAAA,CAACN,SAAS,EAACgG,IAAI,CAAC,GAAG,CAAE,CAAC,cAGtB1F,IAAA,CAACF,aAAa,EAACQ,KAAK,CAAEA,KAAM,CAACE,QAAQ,CAAEA,QAAS,CAAC8G,IAAI,CAAEhG,WAAY,CAAE,CAAC,EAC7D,CAAC,EACJ,CAAC,CAElBF,KAAK,eACFlB,KAAA,CAACZ,YAAY,EAACqG,SAAS,CAAC,QAAQ,CAACH,UAAU,CAAC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAAF,QAAA,eACxEvF,IAAA,CAACN,SAAS,EAACgG,IAAI,CAAC,IAAI,CAAE,CAAC,cACvB1F,IAAA,CAACL,OAAO,EAAA4F,QAAA,CAAC,oDAAkD,CAAS,CAAC,cACrEvF,IAAA,CAACP,OAAO,EAAC8H,IAAI,CAAC,gBAAgB,CAAAhC,QAAA,CAAC,gBAAc,CAAS,CAAC,EAC7C,CAAC,EAErB,CAAC,CAET,CAAC,CAEX"},"metadata":{},"sourceType":"module","externalDependencies":[]}