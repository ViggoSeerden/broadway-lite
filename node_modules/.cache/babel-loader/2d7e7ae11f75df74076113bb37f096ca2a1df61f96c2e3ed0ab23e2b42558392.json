{"ast":null,"code":"export async function getLyrics(song){try{const response=await fetch('https://spotify-lyric-api-984e7b4face0.herokuapp.com/?url='+song.external_urls.spotify,{method:'GET'});if(response.ok){const lyrics=await response.json();return lyrics;}else{return{error:true};}}catch{return{error:true};}}export async function getQueue(token){const response=await fetch(\"https://api.spotify.com/v1/me/player/queue\",{method:'GET',headers:{Authorization:\"Bearer \"+token,'Content-Type':'application/json'}});if(response.ok){const queue=await response.json();return queue.queue;}}export async function getRecommendations(song,token){const response=await fetch(\"https://api.spotify.com/v1/recommendations?seed_artists=\"+song.artists[0].id+\"&seed_tracks=\"+song.id+\"&limit=\"+10,{method:'GET',headers:{Authorization:\"Bearer \"+token,'Content-Type':'application/json'}});if(response.ok){const recommendations=await response.json();return recommendations.tracks;}}export const playSong=token=>{fetch(\"https://api.spotify.com/v1/me/player/play\",{method:'PUT',headers:{Authorization:\"Bearer \"+token}});};export const pauseSong=token=>{fetch(\"https://api.spotify.com/v1/me/player/pause\",{method:'PUT',headers:{Authorization:\"Bearer \"+token}});};export const nextSong=token=>{fetch(\"https://api.spotify.com/v1/me/player/next\",{method:'POST',headers:{Authorization:\"Bearer \"+token,'Content-Type':'application/json'}}).catch(error=>console.error('Error changing song:',error));};export const previousSong=token=>{fetch(\"https://api.spotify.com/v1/me/player/previous\",{method:'POST',headers:{Authorization:\"Bearer \"+token,'Content-Type':'application/json'}}).catch(error=>console.error('Error changing song:',error));};export const toggleShuffle=(mode,token)=>{fetch(\"https://api.spotify.com/v1/me/player/shuffle?state=\"+mode,{method:'PUT',headers:{Authorization:\"Bearer \"+token,'Content-Type':'application/json'}}).catch(error=>console.error('Error changing song:',error));};export const toggleRepeat=(command,token)=>{var mode;if(command===false){mode=\"off\";}else if(command===true){mode=\"track\";}fetch(\"https://api.spotify.com/v1/me/player/repeat?state=\"+mode,{method:'PUT',headers:{Authorization:\"Bearer \"+token,'Content-Type':'application/json'}}).catch(error=>console.error('Error changing song:',error));};export const setVolume=(number,token)=>{fetch(\"https://api.spotify.com/v1/me/player/volume?volume_percent=\"+number.replace(\"%\",\"\"),{method:'PUT',headers:{Authorization:\"Bearer \"+token}});};export const setPosition=(position,token)=>{fetch(\"https://api.spotify.com/v1/me/player/seek?position_ms=\"+Math.floor(position),{method:'PUT',headers:{Authorization:\"Bearer \"+token}});};export function msToTime(durationInMs){const seconds=Math.floor(durationInMs/1000%60);const minutes=Math.floor(durationInMs/(1000*60)%60);return\"\".concat(minutes,\":\").concat(seconds<10?'0':'').concat(seconds);}","map":{"version":3,"names":["getLyrics","song","response","fetch","external_urls","spotify","method","ok","lyrics","json","error","getQueue","token","headers","Authorization","queue","getRecommendations","artists","id","recommendations","tracks","playSong","pauseSong","nextSong","catch","console","previousSong","toggleShuffle","mode","toggleRepeat","command","setVolume","number","replace","setPosition","position","Math","floor","msToTime","durationInMs","seconds","minutes","concat"],"sources":["/home/runner/work/broadway-lite/broadway-lite/src/utils.jsx"],"sourcesContent":["export async function getLyrics(song) {\n    try {\n        const response = await fetch(\n            'https://spotify-lyric-api-984e7b4face0.herokuapp.com/?url=' +\n            song.external_urls.spotify,\n            {\n                method: 'GET',\n            }\n        )\n    \n        if (response.ok) {\n            const lyrics = await response.json()\n            return lyrics\n        } else {\n            return {\n                error: true\n            }\n        }\n    } catch {\n        return {\n            error: true\n        }\n    }\n}\n\nexport async function getQueue(token) {\n    const response = await fetch(\"https://api.spotify.com/v1/me/player/queue\", {\n        method: 'GET',\n        headers: {\n            Authorization: \"Bearer \" + token,\n            'Content-Type': 'application/json',\n        },\n    })\n    if (response.ok) {\n        const queue = await response.json()\n        return queue.queue\n    }\n}\n\nexport async function getRecommendations(song, token) {\n    const response = await fetch(\"https://api.spotify.com/v1/recommendations?seed_artists=\" + song.artists[0].id + \"&seed_tracks=\" + song.id + \"&limit=\" + 10, {\n        method: 'GET',\n        headers: {\n            Authorization: \"Bearer \" + token,\n            'Content-Type': 'application/json',\n        },\n    })\n    if (response.ok) {\n        const recommendations = await response.json()\n        return recommendations.tracks\n    }\n}\n\nexport const playSong = (token) => {\n    fetch(\"https://api.spotify.com/v1/me/player/play\", {\n        method: 'PUT',\n        headers: {\n            Authorization: \"Bearer \" + token\n        }\n    })\n}\n\nexport const pauseSong = (token) => {\n    fetch(\"https://api.spotify.com/v1/me/player/pause\", {\n        method: 'PUT',\n        headers: {\n            Authorization: \"Bearer \" + token\n        }\n    })\n}\n\nexport const nextSong = (token) => {\n    fetch(\"https://api.spotify.com/v1/me/player/next\", {\n        method: 'POST',\n        headers: {\n            Authorization: \"Bearer \" + token,\n            'Content-Type': 'application/json'\n        }\n    })\n        .catch(error => console.error('Error changing song:', error));\n}\n\nexport const previousSong = (token) => {\n    fetch(\"https://api.spotify.com/v1/me/player/previous\", {\n        method: 'POST',\n        headers: {\n            Authorization: \"Bearer \" + token,\n            'Content-Type': 'application/json'\n        }\n    })\n        .catch(error => console.error('Error changing song:', error));\n}\n\nexport const toggleShuffle = (mode, token) => {\n    fetch(\"https://api.spotify.com/v1/me/player/shuffle?state=\" + mode, {\n        method: 'PUT',\n        headers: {\n            Authorization: \"Bearer \" + token,\n            'Content-Type': 'application/json'\n        },\n    })\n        .catch(error => console.error('Error changing song:', error));\n}\n\nexport const toggleRepeat = (command, token) => {\n    var mode;\n    if (command === false) {\n        mode = \"off\"\n    }\n    else if (command === true) {\n        mode = \"track\"\n    }\n\n    fetch(\"https://api.spotify.com/v1/me/player/repeat?state=\" + mode, {\n        method: 'PUT',\n        headers: {\n            Authorization: \"Bearer \" + token,\n            'Content-Type': 'application/json'\n        }\n    })\n        .catch(error => console.error('Error changing song:', error));\n}\n\nexport const setVolume = (number, token) => {\n    fetch(\"https://api.spotify.com/v1/me/player/volume?volume_percent=\" + number.replace(\"%\", \"\"), {\n        method: 'PUT',\n        headers: {\n            Authorization: \"Bearer \" + token\n        }\n    })\n}\n\nexport const setPosition = (position, token) => {\n    fetch(\"https://api.spotify.com/v1/me/player/seek?position_ms=\" + Math.floor(position), {\n        method: 'PUT',\n        headers: {\n            Authorization: \"Bearer \" + token\n        }\n    })\n}\n\nexport function msToTime(durationInMs) {\n    const seconds = Math.floor((durationInMs / 1000) % 60);\n    const minutes = Math.floor((durationInMs / (1000 * 60)) % 60);\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}